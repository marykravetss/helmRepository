namespace: my-namespace

nginx:
  name: nginx
  replicas: 1
  image: marykravetss/my-nginx:latest
  configMapName: nginx-configmap

apache:
  name: apache
  replicas: 1
  image: marykravetss/my-apache:latest

myTlsSecret:
  name: my-tls-secret
  tlsCrt: |-
    LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURqRENDQXhLZ0F3SUJBZ0lTQkRuYzNYd3p3
    c2UvSjJGbFlyUVdmRzdLTUFvR0NDcUdTTTQ5QkFNRE1ESXgKQ3pBSkJnTlZCQVlUQWxWVE1SWXdG
    QVlEVlFRS0V3MU1aWFFuY3lCRmJtTnllWEIwTVFzd0NRWURWUVFERXdKRgpOakFlRncweU5ERXdN
    ak14TVRRNE1qZGFGdzB5TlRBeE1qRXhNVFE0TWpaYU1DRXhIekFkQmdOVkJBTVRGbTE1CmRHVnpk
    R2h2YzNReE1TNW9iM0IwYnk1dmNtY3dXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FB
    UVYKUVdaSlpJOEF3L05KQ0VCek1wb2Y5dE9GSk0ydWRvakgvMnIxc0VPM1Y5ck5iR0JIWlVBakt0
    cFJqTkdFTzFxZAp6ekJrVTduVUw3a2tIaER5Z04xVG80SUNGekNDQWhNd0RnWURWUjBQQVFIL0JB
    UURBZ2VBTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUJCZ2dyQmdFRkJRY0RBakFNQmdOVkhS
    TUJBZjhFQWpBQU1CMEdBMVVkRGdRV0JCVGgKOXUwckhUMHB6TVdMdlVUUEVlRXQ5eWRlU1RBZkJn
    TlZIU01FR0RBV2dCU1RKMGFZQTZsUmFJNlkxc1JDU05zagp2MWlVMGpCVkJnZ3JCZ0VGQlFjQkFR
    UkpNRWN3SVFZSUt3WUJCUVVITUFHR0ZXaDBkSEE2THk5bE5pNXZMbXhsCmJtTnlMbTl5WnpBaUJn
    Z3JCZ0VGQlFjd0FvWVdhSFIwY0RvdkwyVTJMbWt1YkdWdVkzSXViM0puTHpBaEJnTlYKSFJFRUdq
    QVlnaFp0ZVhSbGMzUm9iM04wTVRFdWFHOXdkRzh1YjNKbk1CTUdBMVVkSUFRTU1Bb3dDQVlHWjRF
    TQpBUUlCTUlJQkF3WUtLd1lCQkFIV2VRSUVBZ1NCOUFTQjhRRHZBSFlBNXRJeFkwQjNqTUVRUVFi
    WGNibk93ZEpBCjlwYUVodnU2aHpJZC9SNDNqbEFBQUFHU3VXcUFvZ0FBQkFNQVJ6QkZBaUVBcUJH
    ck0yR0RhM3JOU0ExRFVJTlkKOWNlQ2VBT3pFM1p1RDlEajR5d2pxN0FDSUFEakp4dHlVSFNoVXFH
    T2E0ZUEvSnVJVW1uYUVEcVRoSWY3Rk5SMwovZEVQQUhVQUUwcmZHcldZUWdsNERHL3ZUSHFScEJh
    M0kwbk9XRmRxMzY3YXA4S3I0Q0lBQUFHU3VXcUJXUUFBCkJBTUFSakJFQWlBZ2dlRFJuUXlRcGNK
    TCtCV3o1K1pjSGVOQmJxVDRmdEY2bDRmWDFkSjd0d0lnVUJaZ244UnYKNC9aazF6K25EenpReEJU
    Ym9BRGdtb3lnRTlHTDlRT3RDYWd3Q2dZSUtvWkl6ajBFQXdNRGFBQXdaUUl3ZGJUTwpBYTBjdlo0
    WnhMZTVGVk5xZXR0aGlWMzRDTTBUYnN0dWxSNTZIaEJvS2F6bTJWY3lOQ3RlY3c3KzZkUzRBakVB
    CmpDUFMwVm1RcU5vbkZOQlJNVGtzYmFWZFYvVitjem5obGRiRzBnMmMzNHZkYVc2MmpBWGgydGRq
    dng5T0RFVFgKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQotLS0tLUJFR0lOIENFUlRJRklDQVRF
    LS0tLS0KTUlJRVZ6Q0NBaitnQXdJQkFnSVJBTEJYUHBGemx5ZHcyN1NIeXpwRkt6Z3dEUVlKS29a
    SWh2Y05BUUVMQlFBdwpUekVMTUFrR0ExVUVCaE1DVlZNeEtUQW5CZ05WQkFvVElFbHVkR1Z5Ym1W
    MElGTmxZM1Z5YVhSNUlGSmxjMlZoCmNtTm9JRWR5YjNWd01SVXdFd1lEVlFRREV3eEpVMUpISUZK
    dmIzUWdXREV3SGhjTk1qUXdNekV6TURBd01EQXcKV2hjTk1qY3dNekV5TWpNMU9UVTVXakF5TVFz
    d0NRWURWUVFHRXdKVlV6RVdNQlFHQTFVRUNoTU5UR1YwSjNNZwpSVzVqY25sd2RERUxNQWtHQTFV
    RUF4TUNSVFl3ZGpBUUJnY3Foa2pPUFFJQkJnVXJnUVFBSWdOaUFBVFo4WjVHCmgvZ2hjV0NvSnV1
    aitybnEyaDI1RXFmVUp0bFJGTEZoZkhXV3Z5SUxPUi9WdnRFS1Jxb3RQRW9KaEM2K1FKVlYKNlJs
    QU4yWjE3VEpPZHdSSitIQjd3eGpuenZkeEVQNnNkTmdBMU8xdEhITVdNeENjT3JMcWJHTDB2Ymlq
    Z2ZndwpnZlV3RGdZRFZSMFBBUUgvQkFRREFnR0dNQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01D
    QmdnckJnRUZCUWNECkFUQVNCZ05WSFJNQkFmOEVDREFHQVFIL0FnRUFNQjBHQTFVZERnUVdCQlNU
    SjBhWUE2bFJhSTZZMXNSQ1NOc2oKdjFpVTBqQWZCZ05WSFNNRUdEQVdnQlI1dEZubWU3Ymw1QUZ6
    Z0FpSXlCcFk5dW1iYmpBeUJnZ3JCZ0VGQlFjQgpBUVFtTUNRd0lnWUlLd1lCQlFVSE1BS0dGbWgw
    ZEhBNkx5OTRNUzVwTG14bGJtTnlMbTl5Wnk4d0V3WURWUjBnCkJBd3dDakFJQmdabmdRd0JBZ0V3
    SndZRFZSMGZCQ0F3SGpBY29CcWdHSVlXYUhSMGNEb3ZMM2d4TG1NdWJHVnUKWTNJdWIzSm5MekFO
    QmdrcWhraUc5dzBCQVFzRkFBT0NBZ0VBZll0N1NpQTFzZ1dHQ0lwdW5rNDZyNEFFeElSYwpNeGtL
    Z1VoTmxycnYxQjIxaE9hWE4vNW1pRStMT1RicmNtVS9NOXl2QzZNVlk3MzBHTkZvTDhJaEo4ajh2
    ck9MCnBNWTIyT1A2YmFTMWs5WU1ydERUbHdKSG9HYnkwNFRoVFVlQkRrc1M5Uml1SHZpY1pxQmVk
    UWRJRjY1cFp1aHAKZURjR0JjTGlZYXNRci9FTzVneHh0THlUbWdzSFNPVlNCY0ZPbjlsZ3Y3TEVD
    UHE5aTdtZkgzbXB4Z3JSS1N4SApwT29aMEtYTWNCK2hIdXZsa2xIbnR2Y0kwbU1NUTBtaFlqNnF0
    TUZTdGtGMVJwQ0czSVBkSXdwVkNRcXU4R1Y3CnM4dWJrblJ6cyszQy9CbTE5UkZPb2lQcERrd3Z5
    TmZ2bVExNFhreXFxS0s1b1o4emhEMzJrRlJRa3hhOHVaU3UKaDRhVEltRnhrbnUzOXdhQnhJUlhF
    NGpLeGxBbVFjNFFqRlpvcTFLbVFxUWcwSi8xSkY4UmxGdkphczFWY2pMdgpZbHZVQjJ0Nm5wTzZv
    UWpCM2wrUE5mMERwUUg3aVV4M1d6NUFqUUNpNkwyNUZqeUUwNnE2QlovUWxtdFlkbC84ClpZYW80
    U1JxUEVzLzZjQWlGK1FmNXpnMlVrYVd0RHBobDFMS011VE5Mb3R2c1g5OUhQNjlWMmZhTnllZ29k
    UTAKTHlUQXByL3ZUMDFZUEU0NnZOc0RMZ0srNGNMNlRyekMvYTRXY21GNVNSSjkzOHpydi9kdUpI
    TFhRSWt1NXYwKwpFd095NTlIZG0wUFQvRXIvODRkRFYwQ1NqZFIvMlh1Wk0za3B5c1NLTGdEMWNL
    aURBK0lSZ3VPREN4Zk85Y3lZCklnNDZ2OW1GbUJ2eUgwND0KLS0tLS1FTkQgQ0VSVElGSUNBVEUt
    LS0tLQo=
  tlsKey: |-
    LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JR0hBZ0VBTUJNR0J5cUdTTTQ5QWdFR0NDcUdT
    TTQ5QXdFSEJHMHdhd0lCQVFRZ1pwekVXcU03Q1lpbWlzYngKbjhaV09UUzFEOHdRZ0JXUEpzUHht
    WlV4TE5xaFJBTkNBQVFWUVdaSlpJOEF3L05KQ0VCek1wb2Y5dE9GSk0ydQpkb2pILzJyMXNFTzNW
    OXJOYkdCSFpVQWpLdHBSak5HRU8xcWR6ekJrVTduVUw3a2tIaER5Z04xVAotLS0tLUVORCBQUklW
    QVRFIEtFWS0tLS0tCg==

nginxConfigmap:
  nginxConf: |-
    server {
        listen 80;
        listen 443 ssl;
        ssl_certificate /etc/nginx/ssl/fullchain.pem;
        ssl_certificate_key /etc/nginx/ssl/privkey.pem;
        server_name mytesthost11.hopto.org;
        location / {
            root /var/www/html;
            index index.html;
        }
        location /secondpage {
            alias /var/www/html;
            index secondpage.html;
        }
        location /music {
            alias /var/www/html/music/file.mp3;
            add_header Content-Disposition 'attachment; filename="file.mp3"';
        }
        location /info.php {
            proxy_pass http://apache-service:8080/info.php;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
        location /secondserver {
            return 301 https://onliner.by$request_uri;
        }
    }
